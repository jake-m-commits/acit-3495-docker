apiVersion: apps/v1
kind: Deployment
metadata:
  name: acit3495
spec:
  replicas: 1
  selector:
    matchLabels:
      app: acit3495
  template:
    metadata:
      labels:
        app: acit3495
    spec:
      containers:
        - name: anal-app
          image: yetiatdocker/anal-app:1.1
          volumeMounts:  
            - name: secret
              mountPath: /etc/secret 
        - name: auth-app
          image: yetiatdocker/auth-app:1.1
          ports:
            - containerPort: 5000
          volumeMounts:  
            - name: secret
              mountPath: /etc/secret 
        - name: node-app
          image: yetiatdocker/node-app:1.1
          volumeMounts:  
            - name: secret
              mountPath: /etc/secret 
          ports:
            - containerPort: 3000
        - name: results-app
          image: yetiatdocker/results-app:1.1
          volumeMounts:  
            - name: secret
              mountPath: /etc/secret 
          ports:
            - containerPort: 5001
        - name: mongodbserver
          image: mongo:6.0


        - name: mysqlserver
          image: mysql:8.0
          # volumeMounts:    
          #   - name: mssqldb
          #     mountPath: /var/lib/mysql    

          # envFrom:
          #   - secretRef:
          #     name: app-secret
          # volumeMounts:    
          #   - mountPath: /var/lib/mysql    
          #     name: mysql-volume
      volumes:
        - name: secret
          secret:
            secretName: app-secret
            optional: false


      # - name: mssqldb
      #   persistentVolumeClaim:
      #     claimName: mysql-data